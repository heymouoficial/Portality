import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { useEffect, useState } from 'react';
import { notionService } from '../services/notionService';
import { User, Briefcase, CheckSquare, Clock, Calendar, Zap, LayoutGrid, Database, LogOut, Target, Mic, Plus } from 'lucide-react';
export const AgencyDashboard = ({ user, tasks, clients, onNavigate }) => {
    const [team, setTeam] = useState([]);
    const [isSyncing, setIsSyncing] = useState(false);
    useEffect(() => {
        const loadRealData = async () => {
            setIsSyncing(true);
            try {
                const tm = await notionService.getTeam();
                setTeam(tm);
            }
            catch (e) {
                console.error("Failed to load team", e);
            }
            setTimeout(() => setIsSyncing(false), 800);
        };
        loadRealData();
    }, []);
    return (_jsxs("div", { className: "min-h-screen bg-[#020204] text-gray-400 p-4 lg:p-8 font-sans selection:bg-emerald-500/30", children: [_jsxs("header", { className: "flex justify-between items-center mb-8", children: [_jsxs("div", { className: "space-y-1", children: [_jsx("span", { className: "text-[10px] font-black tracking-[0.3em] text-gray-600 uppercase", children: "Bienvenido" }), _jsx("h2", { className: "text-2xl font-bold text-white tracking-tight", children: user.name }), _jsxs("div", { className: "flex items-center gap-2 px-3 py-1 bg-emerald-500/10 border border-emerald-500/20 rounded-full w-fit", children: [_jsx("div", { className: "w-1.5 h-1.5 bg-emerald-500 rounded-full animate-pulse shadow-[0_0_8px_#10b981]" }), _jsx("span", { className: "text-[10px] font-bold text-emerald-500 uppercase tracking-widest", children: "PolimataOS Online" })] })] }), _jsxs("div", { className: "flex items-center gap-3", children: [_jsx("button", { onClick: () => onNavigate('home'), className: "p-3 bg-white/5 border border-white/5 rounded-2xl hover:bg-white/10 transition-all group", children: _jsx(LayoutGrid, { size: 20, className: "group-hover:text-white transition-colors" }) }), _jsx("button", { className: "p-3 bg-red-500/10 border border-red-500/20 rounded-2xl text-red-400 hover:bg-red-500/20 transition-all", children: _jsx(LogOut, { size: 20 }) })] })] }), _jsxs("div", { className: "grid grid-cols-1 lg:grid-cols-12 gap-6 pb-32", children: [_jsxs("div", { className: "lg:col-span-8 space-y-6", children: [_jsxs("section", { className: "relative overflow-hidden bg-gradient-to-br from-[#0a0a0c] to-[#050505] border border-white/5 rounded-[2.5rem] p-8 group", children: [_jsx("div", { className: "absolute -right-20 -bottom-20 w-80 h-80 bg-emerald-500/10 blur-[100px] rounded-full group-hover:bg-emerald-500/20 transition-all duration-1000" }), _jsxs("div", { className: "relative z-10 flex justify-between items-start mb-10", children: [_jsxs("div", { className: "flex items-center gap-4", children: [_jsx("div", { className: "p-4 bg-emerald-500/10 border border-emerald-500/20 rounded-2xl", children: _jsx(Database, { size: 24, className: "text-emerald-500" }) }), _jsxs("div", { children: [_jsx("h3", { className: "text-xl font-bold text-white tracking-tight", children: "Ecosistema Elevat" }), _jsx("p", { className: "text-sm text-gray-500", children: "Sincronizaci\u00F3n Neural" })] })] }), _jsxs("div", { className: `px-4 py-1.5 rounded-full border transition-all flex items-center gap-2 ${isSyncing ? 'bg-amber-500/10 border-amber-500/30' : 'bg-emerald-500/10 border-emerald-500/30'}`, children: [_jsx(Zap, { size: 12, className: isSyncing ? 'text-amber-500 animate-spin' : 'text-emerald-500' }), _jsx("span", { className: `text-[10px] font-black uppercase tracking-widest ${isSyncing ? 'text-amber-500' : 'text-emerald-500'}`, children: isSyncing ? 'Syncing...' : 'Online' })] })] }), _jsx("div", { className: "grid grid-cols-2 md:grid-cols-4 gap-4 relative z-10", children: [
                                            { label: 'Hub Operativo', icon: _jsx(Target, { size: 18 }), status: 'Online', view: 'home' },
                                            { label: 'Clientes 2026', icon: _jsx(User, { size: 18 }), status: `${clients.length} Activos`, view: 'agency' },
                                            { label: 'Tareas Ops', icon: _jsx(CheckSquare, { size: 18 }), status: `${tasks.length} Pendientes`, view: 'board' },
                                            { label: 'Equipo', icon: _jsx(Database, { size: 18 }), status: team.map(t => t.name.split(' ')[0]).join(' & ') || 'Cargando...', view: 'agency' }
                                        ].map((item, i) => (_jsxs("button", { onClick: () => onNavigate(item.view), className: "w-full text-left bg-white/[0.03] border border-white/5 rounded-3xl p-5 hover:bg-white/[0.06] hover:border-white/10 transition-all cursor-pointer group/tile overflow-hidden relative active:scale-95", children: [_jsx("div", { className: "mb-4 text-gray-500 group-hover/tile:text-emerald-400 transition-colors", children: item.icon }), _jsxs("div", { className: "space-y-1", children: [_jsx("div", { className: "text-xs font-bold text-gray-300 tracking-tight group-hover:text-white transition-colors", children: item.label }), _jsx("div", { className: "text-[10px] text-gray-600 uppercase tracking-widest", children: item.status })] }), _jsx("div", { className: "absolute top-2 right-2 w-1.5 h-1.5 rounded-full bg-white/10 group-hover/tile:bg-emerald-500 transition-all" })] }, i))) }), _jsx("div", { className: "absolute right-8 bottom-8 opacity-20 hidden md:block group-hover:opacity-40 transition-opacity", children: _jsxs("svg", { width: "120", height: "120", viewBox: "0 0 100 100", fill: "none", className: "animate-spin-slow", children: [_jsx("circle", { cx: "50", cy: "50", r: "48", stroke: "currentColor", strokeWidth: "0.5", strokeDasharray: "4 4" }), _jsx("circle", { cx: "50", cy: "50", r: "30", stroke: "currentColor", strokeWidth: "0.5", strokeDasharray: "2 2" }), _jsx("path", { d: "M50 2 L50 50 L98 50", stroke: "currentColor", strokeWidth: "1", strokeLinecap: "round" })] }) })] }), _jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-6", children: [_jsxs("div", { className: "bg-[#0a0a0c] border border-white/5 rounded-[2.5rem] p-8", children: [_jsxs("div", { className: "flex justify-between items-center mb-6", children: [_jsx("h4", { className: "text-lg font-bold text-white tracking-tight", children: "Portality Intelligence" }), _jsxs("div", { className: "flex gap-2", children: [_jsxs("button", { className: "px-3 py-1 bg-emerald-500/10 border border-emerald-500/20 text-emerald-500 text-[9px] font-black uppercase tracking-widest rounded-full hover:bg-emerald-500/20 transition-all flex items-center gap-1", children: [_jsx(Zap, { size: 10 }), " Vectorizar"] }), _jsx("button", { className: "px-3 py-1 bg-blue-500/10 border border-blue-500/20 text-blue-500 text-[9px] font-black uppercase tracking-widest rounded-full tracking-widest", children: "RAG" })] })] }), _jsxs("div", { className: "bg-black/40 border border-white/5 rounded-2xl p-4 flex items-center justify-between group cursor-pointer hover:border-emerald-500/30 transition-all", children: [_jsxs("div", { className: "flex items-center gap-3", children: [_jsx("div", { className: "p-2 bg-emerald-500/10 rounded-lg text-emerald-500", children: _jsx(Database, { size: 16 }) }), _jsxs("div", { children: [_jsx("div", { className: "text-sm font-medium text-white", children: "Supabase Database" }), _jsx("div", { className: "text-xs text-gray-600", children: "Sync Global Activa" })] })] }), _jsx("div", { className: "w-8 h-4 bg-emerald-500/20 rounded-full relative", children: _jsx("div", { className: "absolute right-1 top-1 w-2 h-2 bg-emerald-500 rounded-full shadow-[0_0_6px_#10b981]" }) })] })] }), _jsx("div", { className: "bg-[#0a0a0c] border border-white/5 rounded-[2.5rem] p-8 flex flex-col items-center justify-center border-dashed group cursor-pointer hover:bg-white/[0.02] transition-all", children: _jsxs("div", { className: "text-center space-y-3", children: [_jsx("div", { className: "w-12 h-12 bg-white/5 rounded-2xl flex items-center justify-center mx-auto text-gray-600 group-hover:text-white transition-colors", children: _jsx(Plus, { size: 24 }) }), _jsx("div", { className: "text-sm font-bold text-gray-500 group-hover:text-gray-300", children: "Conectar Agora Core" })] }) })] })] }), _jsxs("div", { className: "lg:col-span-4 space-y-6", children: [_jsxs("section", { className: "bg-[#0a0a0c] border border-white/5 rounded-[2.5rem] p-6", children: [_jsxs("div", { className: "flex justify-between items-center mb-6 px-2", children: [_jsxs("div", { className: "flex items-center gap-2", children: [_jsx(Briefcase, { size: 18, className: "text-blue-500" }), _jsx("h3", { className: "text-lg font-bold text-white tracking-tight", children: "Cartera 2026" })] }), _jsx("span", { className: "text-[10px] font-black bg-blue-500/10 text-blue-500 px-3 py-1 rounded-full uppercase tracking-widest", children: "4 Activos" })] }), _jsx("div", { className: "space-y-3", children: clients.map((client) => (_jsxs("div", { className: "group bg-white/[0.02] border border-white/5 rounded-2xl p-4 hover:bg-white/[0.05] transition-all cursor-pointer flex justify-between items-center relative overflow-hidden", children: [_jsxs("div", { className: "flex items-center gap-3", children: [_jsx("div", { className: "w-10 h-10 bg-gradient-to-tr from-white/5 to-white/10 border border-white/10 rounded-xl flex items-center justify-center text-gray-500 group-hover:text-blue-400 transition-colors", children: client.name.includes('ClÃ­nica') ? _jsx(LayoutGrid, { size: 18 }) :
                                                                client.name.includes('Sign') ? _jsx(LayoutGrid, { size: 18 }) :
                                                                    _jsx(Database, { size: 18 }) }), _jsxs("div", { children: [_jsx("div", { className: "text-sm font-bold text-gray-300 group-hover:text-white transition-colors", children: client.name }), _jsx("div", { className: "text-[10px] text-gray-600 uppercase tracking-widest", children: client.type === 'fixed' ? 'Retainer' : 'Onboarding' })] })] }), _jsx("div", { className: `text-[9px] font-black uppercase tracking-widest px-2 py-1 rounded-md border ${client.status === 'active' ? 'bg-emerald-500/10 text-emerald-500 border-emerald-500/20' :
                                                        'bg-amber-500/10 text-amber-500 border-amber-500/20'}`, children: client.status === 'active' ? 'Active' : 'Lead' })] }, client.id))) }), _jsxs("div", { className: "flex gap-2 mt-6", children: [_jsx("button", { className: "flex-1 py-3 bg-white/5 hover:bg-white/10 border border-white/5 rounded-2xl text-[10px] font-black uppercase tracking-[0.2em] transition-all", children: "Ver Todos" }), _jsxs("button", { className: "flex-1 py-3 bg-blue-600 hover:bg-blue-500 border border-blue-400/30 rounded-2xl text-white text-[10px] font-black uppercase tracking-[0.2em] shadow-[0_4px_20px_rgba(37,99,235,0.4)] transition-all flex items-center justify-center gap-2", children: [_jsx(Plus, { size: 14 }), " Nuevo"] })] })] }), _jsxs("section", { className: "bg-[#0a0a0c] border border-white/5 rounded-[2.5rem] p-6 lg:h-[400px] flex flex-col", children: [_jsxs("div", { className: "flex justify-between items-center mb-6 px-2", children: [_jsxs("div", { className: "flex items-center gap-2 text-gray-400", children: [_jsx(Calendar, { size: 18 }), _jsx("h3", { className: "text-lg font-bold tracking-tight text-white", children: "Chronos" })] }), _jsx("button", { className: "text-[9px] font-black uppercase tracking-widest text-emerald-500 bg-emerald-500/10 px-3 py-1 rounded-full border border-emerald-500/20", children: "Agenda Real" })] }), _jsxs("div", { className: "flex-1 flex flex-col items-center justify-center text-center p-8 space-y-4", children: [_jsx("div", { className: "w-16 h-16 bg-white/5 border border-white/5 rounded-full flex items-center justify-center text-gray-700", children: _jsx(Clock, { size: 32 }) }), _jsxs("div", { className: "space-y-1", children: [_jsx("div", { className: "text-sm font-bold text-gray-400", children: "Sin eventos pr\u00F3ximos" }), _jsx("div", { className: "text-[10px] text-gray-600 uppercase tracking-widest", children: "Sincroniza con Notion Calendar" })] })] })] })] })] }), _jsx("footer", { className: "fixed bottom-6 left-1/2 -translate-x-1/2 w-full max-w-2xl px-4 z-[100]", children: _jsxs("div", { className: "bg-[#0a0a0c]/80 backdrop-blur-3xl border border-white/10 rounded-[3rem] p-4 flex items-center justify-between shadow-[0_20px_50px_rgba(0,0,0,0.8)]", children: [_jsx("div", { className: "flex-1 flex justify-evenly items-center pr-10", children: [
                                { label: 'Agencia', icon: _jsx(LayoutGrid, { size: 20 }) },
                                { label: 'Data', icon: _jsx(Database, { size: 20 }) }
                            ].map((item, i) => (_jsxs("button", { className: "flex flex-col items-center gap-1 group", children: [_jsx("div", { className: "p-2 text-gray-600 group-hover:text-emerald-500 transition-all", children: item.icon }), _jsx("span", { className: "text-[8px] font-black uppercase tracking-widest text-gray-600 group-hover:text-emerald-500", children: item.label })] }, i))) }), _jsxs("div", { className: "relative -top-8", children: [_jsx("div", { className: "absolute inset-0 bg-emerald-500/20 rounded-full blur-xl animate-pulse scale-150" }), _jsxs("button", { className: "relative w-16 h-16 bg-black border border-emerald-500/30 rounded-full flex items-center justify-center text-emerald-500 shadow-[0_0_30px_rgba(16,185,129,0.4),inset_0_2px_10px_rgba(255,255,255,0.1)] group", children: [_jsx("div", { className: "absolute inset-0 rounded-full border border-emerald-500/50 scale-110 group-hover:scale-125 transition-transform duration-500" }), _jsx(Mic, { size: 24 })] }), _jsx("div", { className: "absolute -bottom-6 left-1/2 -translate-x-1/2 text-[8px] font-black text-emerald-500 uppercase tracking-[0.4em]", children: "Aureon" })] }), _jsx("div", { className: "flex-1 flex justify-evenly items-center pl-10", children: [
                                { label: 'RAG', icon: _jsx(Database, { size: 20 }) },
                                { label: 'Chat', icon: _jsx(Zap, { size: 20 }) }
                            ].map((item, i) => (_jsxs("button", { className: "flex flex-col items-center gap-1 group", children: [_jsx("div", { className: "p-2 text-gray-600 group-hover:text-blue-500 transition-all", children: item.icon }), _jsx("span", { className: "text-[8px] font-black uppercase tracking-widest text-gray-600 group-hover:text-blue-500", children: item.label })] }, i))) })] }) })] }));
};
